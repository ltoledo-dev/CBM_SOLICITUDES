<h2 mat-dialog-title style="width: 400px;">Nuevo producto</h2>

<mat-dialog-content>
  <form>
    <mat-form-field style="width:100%;">
      <mat-label>Código del producto</mat-label>
      <input type="number" matInput [formControl]="codeFormControl" [errorStateMatcher]="matcher"
             placeholder="Ingrese el código del producto" required>

      @if (codeFormControl.hasError('required')) {
        <mat-error>El código es<strong> requerido</strong></mat-error>
      }


    </mat-form-field>

    <mat-form-field style="width:100%;">

      <mat-label>Descripción del producto</mat-label>
      <input type="text" matInput [formControl]="nameFormControl" [errorStateMatcher]="matcher"
             placeholder="Ingrese la descripción del producto" required>

      @if (nameFormControl.hasError('required')) {
        <mat-error>El nombre es<strong> requerido</strong></mat-error>
      }
    </mat-form-field>

    <mat-form-field style="width:100%;">

      <mat-label>Costo del producto</mat-label>
      <input type="number" matInput [formControl]="priceFormControl" [errorStateMatcher]="matcher"
             placeholder="Ingrese el costo del producto" required>

      @if (priceFormControl.hasError('required')) {
        <mat-error>El costo es<strong> requerido</strong> y debe ser mayor a 0</mat-error>
      }
    </mat-form-field>
  </form>

  @if(errorMsg) {
    <div style="color: red; margin-top: 10px;">
      {{ errorMsg }}
    </div>
  }
</mat-dialog-content>


<mat-dialog-actions>
  <button mat-fab extended mat-dialog-close>
    <mat-icon>close</mat-icon>
    Cancelar
  </button>
  <button mat-fab extended (click)="guardarProduct()" [disabled]="codeFormControl.invalid || nameFormControl.invalid || priceFormControl.invalid">
    <mat-icon>save</mat-icon>
    Guardar
  </button>
</mat-dialog-actions>
